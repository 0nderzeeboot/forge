Name:Gifts Ungiven
ManaCost:3 U
Types:Instant
A:SP$ ChangeZone | Cost$ 3 U | Origin$ Library | Destination$ Library | ChangeType$ Card | ChangeNum$ 4 | RememberChanged$ True | Reveal$ True | Shuffle$ False | DifferentNames$ True | StackDescription$ SpellDescription | SubAbility$ DBChoose | StackDescription$ {p:You} searches their library for up to four cards with different names and reveals them. | SpellDescription$ Search your library for up to four cards with different names and reveal them. Target opponent chooses two of those cards. Put the chosen cards into your graveyard and the rest into your hand. Then shuffle your library.
SVar:DBChoose:DB$ ChooseCard | ValidTgts$ Opponent | TgtPrompt$ Select target opponent | Choices$ Card.IsRemembered | ChoiceZone$ Library | ChoiceTitle$ Choose two cards for the graveyard | Mandatory$ True | Amount$ 2 | SubAbility$ DBChangeZone1 | StackDescription$ {p:Targeted} chooses two of those cards.
SVar:DBChangeZone1:DB$ ChangeZone | Origin$ Library | Destination$ Graveyard | Defined$ ChosenCard | ChangeNum$ 2 | Mandatory$ True | NoLooking$ True | SelectPrompt$ Select a card for the graveyard | Shuffle$ False | SubAbility$ DBChangeZone2 | StackDescription$ {p:You} puts the chosen cards into their graveyard
SVar:DBChangeZone2:DB$ ChangeZoneAll | Origin$ Library | Destination$ Hand | ChangeType$ Card.IsRemembered | Mandatory$ True | NoLooking$ True | Shuffle$ True | SelectPrompt$ Select a card for the hand | StackDescription$ and the rest into their hand. Then {p:You} shuffles their library. | SubAbility$ DBCleanup
SVar:DBCleanup:DB$ Cleanup | ClearRemembered$ True
Oracle:Search your library for up to four cards with different names and reveal them. Target opponent chooses two of those cards. Put the chosen cards into your graveyard and the rest into your hand. Then shuffle your library.
